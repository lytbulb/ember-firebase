<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ember-firebase Tests</title>
    <link rel="stylesheet" href="lib/mocha.css">
  </head>
  <body>
    <div id="mocha"></div>

    <!-- dependencies & setup -->
    <script src="lib/jquery.js"></script>
    <script src="lib/handlebars.js"></script>
    <script src="lib/ember.js"></script>
    <script src="lib/mocha.js"></script>
    <script>mocha.setup('bdd');</script>
    <script src="lib/chai.js"></script>
    <script src="lib/mocha-as-promised.js"></script>
    <script src="https://cdn.firebase.com/v0/firebase.js"></script>

    <script>
    // All tests will run against this ref, so make sure you
    // don't have any data under it you can't afford to lose.
    var BASE_REF = new Firebase('https://ember-firebase.firebaseio.com');

    // Clear the BASE_REF before each spec runs.
    beforeEach(function () {
      BASE_REF.off();
      return Firebase.set(BASE_REF, null);
    });
    </script>

    <!--
    ember-firebase & tests

    Note: All tests must be written in such a way that they
    wait for a sync with the server before continuing.
    -->
    <script src="../ember-firebase.js"></script>
    <script src="core-spec.js"></script>
    <script src="binding-spec.js"></script>
    <script src="proxy-spec.js"></script>
    <script src="hash-spec.js"></script>
    <script src="list-spec.js"></script>

    <script>
      // mocha.checkLeaks();
      // mocha.globals([ 'jQuery', 'Ember', 'Firebase', 'BASE_REF' ]);
      mocha.run();
    </script>
  </body>
</html>
